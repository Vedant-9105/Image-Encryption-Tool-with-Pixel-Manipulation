<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixelCrypt - Image Encryption Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .upload-section {
            flex: 1;
            min-width: 300px;
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .controls-section {
            flex: 1;
            min-width: 300px;
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .preview-section {
            flex: 2;
            min-width: 300px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .preview-box {
            flex: 1;
            min-width: 250px;
            text-align: center;
        }
        
        .preview-box h3 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .image-container {
            width: 100%;
            height: 250px;
            border: 2px dashed rgba(255, 255, 255, 0.4);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 15px;
            background: rgba(0, 0, 0, 0.2);
        }
        
        .image-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 25px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            background: #ff8e8e;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn-primary {
            background: #4ecdc4;
        }
        
        .btn-primary:hover {
            background: #81d8d2;
        }
        
        .btn-success {
            background: #1dd1a1;
        }
        
        .btn-success:hover {
            background: #48d9b2;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group h3 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .slider-container {
            margin: 15px 0;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4ecdc4;
            cursor: pointer;
        }
        
        input[type="file"] {
            display: none;
        }
        
        .file-label {
            display: block;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border: 2px dashed rgba(255, 255, 255, 0.4);
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .file-label:hover {
            background: rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.6);
        }
        
        .algorithm-info {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
        }
        
        .algorithm-info h2 {
            margin-bottom: 15px;
            font-size: 1.8rem;
        }
        
        .info-content {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .info-text {
            flex: 2;
            min-width: 300px;
        }
        
        .info-visual {
            flex: 1;
            min-width: 250px;
            text-align: center;
        }
        
        .pixel-demo {
            display: inline-block;
            margin-top: 15px;
        }
        
        .pixel {
            width: 20px;
            height: 20px;
            display: inline-block;
            margin: 2px;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>PixelCrypt</h1>
            <p class="subtitle">Image Encryption Tool with Pixel Manipulation</p>
        </header>
        
        <div class="main-content">
            <div class="upload-section">
                <h2>Upload Image</h2>
                <input type="file" id="imageUpload" accept="image/*">
                <label for="imageUpload" class="file-label">
                    <p>Click or drag an image to upload</p>
                </label>
                
                <div class="control-group">
                    <h3>Encryption Key</h3>
                    <div class="slider-container">
                        <label for="encryptionKey">Key Strength: <span id="keyValue">5</span></label>
                        <input type="range" id="encryptionKey" min="1" max="50" value="5">
                    </div>
                </div>
                
                <button class="btn btn-primary" id="encryptBtn">Encrypt Image</button>
                <button class="btn btn-success" id="decryptBtn">Decrypt Image</button>
                <button class="btn" id="resetBtn">Reset</button>
            </div>
            
            <div class="controls-section">
                <h2>Encryption Methods</h2>
                
                <div class="control-group">
                    <h3>Pixel Manipulation</h3>
                    <button class="btn" id="swapPixels">Swap Pixel Values</button>
                    <button class="btn" id="invertPixels">Invert Colors</button>
                    <button class="btn" id="shiftPixels">Shift RGB Values</button>
                </div>
                
                <div class="control-group">
                    <h3>Mathematical Operations</h3>
                    <button class="btn" id="addValue">Add Value to Pixels</button>
                    <button class="btn" id="multiplyValue">Multiply Pixel Values</button>
                    <button class="btn" id="xorOperation">XOR Operation</button>
                </div>
                
                <div class="control-group">
                    <h3>Advanced Techniques</h3>
                    <button class="btn" id="rowShuffle">Shuffle Rows</button>
                    <button class="btn" id="columnShuffle">Shuffle Columns</button>
                    <button class="btn" id="customAlgorithm">Custom Algorithm</button>
                </div>
            </div>
            
            <div class="preview-section">
                <div class="preview-box">
                    <h3>Original Image</h3>
                    <div class="image-container" id="originalContainer">
                        <p>No image uploaded</p>
                    </div>
                    <button class="btn" id="downloadOriginal">Download Original</button>
                </div>
                
                <div class="preview-box">
                    <h3>Processed Image</h3>
                    <div class="image-container" id="processedContainer">
                        <p>Processed image will appear here</p>
                    </div>
                    <button class="btn" id="downloadProcessed">Download Processed</button>
                </div>
            </div>
        </div>
        
        <div class="algorithm-info">
            <h2>How Pixel Encryption Works</h2>
            <div class="info-content">
                <div class="info-text">
                    <p>Pixel-based image encryption works by manipulating the RGB values of each pixel in an image. This can include:</p>
                    <ul>
                        <li>Swapping pixel values between different positions</li>
                        <li>Applying mathematical operations to RGB values (addition, multiplication, XOR)</li>
                        <li>Shifting color channels (red, green, blue)</li>
                        <li>Shuffling rows or columns of pixels</li>
                    </ul>
                    <p>These operations transform the image into an encrypted version that can only be decrypted by applying the reverse operations with the correct key.</p>
                    <p>This tool demonstrates basic encryption techniques. For real-world applications, more sophisticated algorithms would be needed.</p>
                </div>
                <div class="info-visual">
                    <h3>Pixel Transformation</h3>
                    <div class="pixel-demo">
                        <div class="pixel" style="background-color: rgb(255, 0, 0);"></div>
                        <div class="pixel" style="background-color: rgb(0, 255, 0);"></div>
                        <div class="pixel" style="background-color: rgb(0, 0, 255);"></div>
                        <div style="display: inline-block; margin: 0 10px; font-size: 1.5rem;">→</div>
                        <div class="pixel" style="background-color: rgb(0, 0, 255);"></div>
                        <div class="pixel" style="background-color: rgb(255, 0, 0);"></div>
                        <div class="pixel" style="background-color: rgb(0, 255, 0);"></div>
                    </div>
                    <p>Pixel values are swapped based on encryption key</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>PixelCrypt - Image Encryption Tool | Demonstrates pixel manipulation techniques for educational purposes</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const imageUpload = document.getElementById('imageUpload');
            const originalContainer = document.getElementById('originalContainer');
            const processedContainer = document.getElementById('processedContainer');
            const encryptionKey = document.getElementById('encryptionKey');
            const keyValue = document.getElementById('keyValue');
            const encryptBtn = document.getElementById('encryptBtn');
            const decryptBtn = document.getElementById('decryptBtn');
            const resetBtn = document.getElementById('resetBtn');
            
            // Encryption method buttons
            const swapPixels = document.getElementById('swapPixels');
            const invertPixels = document.getElementById('invertPixels');
            const shiftPixels = document.getElementById('shiftPixels');
            const addValue = document.getElementById('addValue');
            const multiplyValue = document.getElementById('multiplyValue');
            const xorOperation = document.getElementById('xorOperation');
            const rowShuffle = document.getElementById('rowShuffle');
            const columnShuffle = document.getElementById('columnShuffle');
            const customAlgorithm = document.getElementById('customAlgorithm');
            
            // Download buttons
            const downloadOriginal = document.getElementById('downloadOriginal');
            const downloadProcessed = document.getElementById('downloadProcessed');
            
            // Variables
            let originalImage = null;
            let processedImage = null;
            let canvas = document.createElement('canvas');
            let ctx = canvas.getContext('2d');
            
            // Update key value display
            encryptionKey.addEventListener('input', function() {
                keyValue.textContent = this.value;
            });
            
            // Handle image upload
            imageUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file || !file.type.match('image.*')) {
                    alert('Please upload a valid image file');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = new Image();
                    img.onload = function() {
                        originalImage = img;
                        originalContainer.innerHTML = '';
                        originalContainer.appendChild(img.cloneNode());
                        
                        // Reset processed container
                        processedImage = null;
                        processedContainer.innerHTML = '<p>Processed image will appear here</p>';
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            });
            
            // Encryption and decryption functions
            encryptBtn.addEventListener('click', function() {
                if (!originalImage) {
                    alert('Please upload an image first');
                    return;
                }
                
                processImage('encrypt');
            });
            
            decryptBtn.addEventListener('click', function() {
                if (!originalImage) {
                    alert('Please upload an image first');
                    return;
                }
                
                processImage('decrypt');
            });
            
            // Reset button
            resetBtn.addEventListener('click', function() {
                if (originalImage) {
                    processedContainer.innerHTML = '<p>Processed image will appear here</p>';
                } else {
                    alert('Please upload an image first');
                }
            });
            
            // Encryption methods
            swapPixels.addEventListener('click', function() {
                if (!originalImage) {
                    alert('Please upload an image first');
                    return;
                }
                processImage('swap');
            });
            
            invertPixels.addEventListener('click', function() {
                if (!originalImage) {
                    alert('Please upload an image first');
                    return;
                }
                processImage('invert');
            });
            
            // Process image based on selected method
            function processImage(method) {
                canvas.width = originalImage.width;
                canvas.height = originalImage.height;
                ctx.drawImage(originalImage, 0, 0);
                
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const data = imageData.data;
                const key = parseInt(encryptionKey.value);
                
                // Apply selected algorithm
                switch(method) {
                    case 'encrypt':
                        encryptData(data, key);
                        break;
                    case 'decrypt':
                        decryptData(data, key);
                        break;
                    case 'swap':
                        swapPixelValues(data, key);
                        break;
                    case 'invert':
                        invertColors(data);
                        break;
                    default:
                        encryptData(data, key);
                }
                
                // Put the processed data back to canvas
                ctx.putImageData(imageData, 0, 0);
                
                // Display the processed image
                const processedImg = new Image();
                processedImg.src = canvas.toDataURL();
                processedContainer.innerHTML = '';
                processedContainer.appendChild(processedImg);
                processedImage = processedImg;
            }
            
            // Encryption algorithm (simple example)
            function encryptData(data, key) {
                for (let i = 0; i < data.length; i += 4) {
                    // Simple encryption: add key to each RGB value
                    data[i] = (data[i] + key) % 256;     // Red
                    data[i + 1] = (data[i + 1] + key) % 256; // Green
                    data[i + 2] = (data[i + 2] + key) % 256; // Blue
                    // Alpha channel remains unchanged
                }
            }
            
            // Decryption algorithm (reverse of encryption)
            function decryptData(data, key) {
                for (let i = 0; i < data.length; i += 4) {
                    // Reverse the encryption: subtract key from each RGB value
                    data[i] = (data[i] - key + 256) % 256;     // Red
                    data[i + 1] = (data[i + 1] - key + 256) % 256; // Green
                    data[i + 2] = (data[i + 2] - key + 256) % 256; // Blue
                    // Alpha channel remains unchanged
                }
            }
            
            // Swap pixel values
            function swapPixelValues(data, key) {
                for (let i = 0; i < data.length; i += 4) {
                    // Swap RGB values based on key
                    const temp = data[i];
                    data[i] = data[i + (key % 3)];
                    data[i + (key % 3)] = temp;
                }
            }
            
            // Invert colors
            function invertColors(data) {
                for (let i = 0; i < data.length; i += 4) {
                    data[i] = 255 - data[i];     // Red
                    data[i + 1] = 255 - data[i + 1]; // Green
                    data[i + 2] = 255 - data[i + 2]; // Blue
                }
            }
            
            // Download functionality
            downloadOriginal.addEventListener('click', function() {
                if (!originalImage) {
                    alert('No image to download');
                    return;
                }
                
                const link = document.createElement('a');
                link.download = 'original_image.png';
                link.href = originalImage.src;
                link.click();
            });
            
            downloadProcessed.addEventListener('click', function() {
                if (!processedImage) {
                    alert('No processed image to download');
                    return;
                }
                
                const link = document.createElement('a');
                link.download = 'processed_image.png';
                link.href = processedImage.src;
                link.click();
            });
            
            // Make upload area droppable
            const fileLabel = document.querySelector('.file-label');
            fileLabel.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.background = 'rgba(0, 0, 0, 0.4)';
            });
            
            fileLabel.addEventListener('dragleave', function() {
                this.style.background = 'rgba(0, 0, 0, 0.2)';
            });
            
            fileLabel.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.background = 'rgba(0, 0, 0, 0.2)';
                
                if (e.dataTransfer.files.length) {
                    imageUpload.files = e.dataTransfer.files;
                    const event = new Event('change');
                    imageUpload.dispatchEvent(event);
                }
            });
        });
    </script>
</body>
</html>